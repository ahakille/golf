@model Golf4.Models.HomeCompModels
@using System.Data

@{
    ViewBag.Title = "Index";
}

<h2> Tävlingar</h2>
<hr />

<div class="contestList">

    <script type="text/javascript" src="https://cdn.datatables.net/v/dt/jq-2.2.4/dt-1.10.13/datatables.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.13/datatables.min.css" />

    <table id="contests">
        <thead>
            <tr>
                @foreach (DataColumn column in Model.AllContests.Columns)
                {
                    <th> @column.ColumnName</th>
                }

            </tr>
        </thead>
        <tbody>
            @foreach (DataRow row in Model.AllContests.Rows)
            {
                <tr>
                    @foreach (DataColumn item in Model.AllContests.Columns)
                    {
                        <td>
                            @if (item.ColumnName == "id")
                            {
                             @Html.ActionLink("Info", "displayInfo", "homeComp", new { ContestID = Convert.ToInt16(row[item.ColumnName]) }, new { onclick = "myFunction()" })
                            }
                            else
                            {
                                @row[item.ColumnName];
                            }
                        </td>
                    }

                </tr>
            }
    </table>
    <script>
        $(document).ready(function () {
                    $('#contests').DataTable({
                    })
                }
            );
        function myFunction() {
            
        }
    </script>
</div>

@*<div id="CompeteInfo" onclick="window.location.hash='back'; ">
    <dd>
        @Html.DisplayFor(model => Model.Name)<br />
    </dd>
    <dd> 
        @Html.DisplayFor(model => Model.ContestID) <br />
    </dd>
    <dd>
        @Html.DisplayFor(model => Model.Timestart) <br />
    </dd>
    <dd>
        @Html.DisplayFor(model => Model.CloseTime) <br />
    </dd>

    <dd>
        @Html.DisplayFor(model => Model.description)
    </dd>

</div>*@