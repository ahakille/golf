@using Golf4.Models
@using System.Data
@model ContestModels

@{
    ViewBag.Title = "Admin";
}

<div class="ResultList">
    <h2> Tävlingsresultat</h2>
    <hr />
</div>
<div>
    <script type="text/javascript" src="https://cdn.datatables.net/v/dt/jq-2.2.4/dt-1.10.13/datatables.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.13/datatables.min.css" />

    <table id="results">
        <thead>
            <tr>
                @foreach (DataColumn item in Model.ViewResultList.Columns)
                {
                    <th> @item.ColumnName</th>
                }

            </tr>
        </thead>
        <tbody>
            @foreach (DataRow row in Model.ViewResultList.Rows)
            {
                <tr>
                    @foreach (DataColumn item in Model.ViewResultList.Columns)
                    {
                        <td>
                            @*@if (item.ColumnName == "id")
                                {
                                    if (User.IsInRole("2"))
                                    {
                                        @Html.ActionLink("Boka", "Admin", "Contest", new { cont = row[item.ColumnName] }, null) <br />
                                        @Html.ActionLink("Hantera", "edit", "Contest", new { cont = row[item.ColumnName] }, null)
                                    }
                                    else
                                    {
                                        @Html.ActionLink("Boka", "Member", "Contest", new { cont = row[item.ColumnName] }, null)
                                    }
                                }
                                else
                                {*@
                            @row[item.ColumnName];
                            @*}*@

                        </td>
                    }
                </tr>
            }
        </tbody>
    </table>

    <script>

            $(document).ready(function () {
                $('#results').DataTable({
                    language: {
                        url: '//cdn.datatables.net/plug-ins/1.10.12/i18n/Swedish.json'
                    },
                    fixedHeader: true,
                    dom: 'Blfrtip',
                    buttons: [{
                        extend: 'collection',
                        text: 'Exportera',
                        buttons: [
                            { extend: 'copy', text: 'Kopiera' },
                            { extend: 'excel', text: 'Excel' },
                            { extend: 'pdf', text: 'PDF' },
                            { extend: 'print', text: 'Skriv ut' }
                        ],
                    }],
                })
            });

    </script>
</div>