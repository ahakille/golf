@using Golf4.Models
@using System.Data
@model ReservationModels.AdminViewModel

@{
    ViewBag.Title = "admin";
}

<h2>Bokning Admin</h2>

@using (Html.BeginForm())
{
    <script type="text/javascript" src="https://cdn.datatables.net/v/dt/jq-2.2.4/dt-1.10.13/datatables.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.13/datatables.min.css" />
    <div class="form-horizontal">
        <h4>ReservationModels</h4>
        <hr />
               
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.ID)
        <div class="form-group">
            @Html.LabelFor(model => model.Timestart, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Timestart, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Timestart, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.Closed, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                <div class="checkbox">
                    @Html.EditorFor(model => model.Closed)
                    @Html.ValidationMessageFor(model => model.Closed, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>
        <table id="members">
            <thead>
                <tr>
                    @foreach (DataColumn item in Model.medlemmar.Columns)
                    {
                        <th> @item.ColumnName</th>
                    }


                </tr>
            </thead>
            <tbody>
                @foreach (DataRow row in Model.medlemmar.Rows)
                {
                    <tr>
                        @foreach (DataColumn item in Model.medlemmar.Columns)
                        {
                            <td>@{if (item.ColumnName == "id")
                                {
                                    @Html.ActionLink("Lägg till medlem","adminadd", "reservation", new { member = row[item.ColumnName] }, null)
                                }
                                else
                                {
                                    @row[item.ColumnName];
                                }
                            }
                        </td>
                        }
                    </tr>
                }
            </tbody>
        </table>
        <table id="reservation">
            <thead>
                <tr>
                    @foreach (DataColumn item in Model.reservation.Columns)
                    {
                        <th> @item.ColumnName</th>
                    }
                </tr>
            </thead>
            <tbody>
                @foreach (DataRow row in Model.reservation.Rows)
                {
                    <tr>
                        @foreach (DataColumn item in Model.reservation.Columns)
                        {
                            <td>@row[item.ColumnName]</td>
                        }
                    </tr>
                }
            </tbody>
        </table>
        <script>
            $(document).ready(function () {
                $('#members').DataTable();
            });
            $(document).ready(function () {
                $('#reservation').DataTable();
            });
        </script>
        
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Save" class="btn btn-default" />
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Tillbaka till kalendern", "Index")
</div>
